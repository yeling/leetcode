/*
* auther yeling
* 
* 
*/

/**
 * @param {number[]} nums
 * @return {number}
 */
//TLE 33 / 68 个通过测试用例
var minimizeArrayValue = function(nums) {
    let move = true;
    while(move) {
        move = false;
        for(let i = 1; i < nums.length; i++) {
            if(nums[i] > nums[i-1]) {
                let sum = nums[i] + nums[i-1];
                if(sum%2 == 0) {
                    nums[i] = sum/2;
                    nums[i-1] = sum/2;
                } else {
                    nums[i] = Math.floor(sum/2);
                    nums[i-1] = sum - nums[i];
                }
                move = true;
            }
        }
        //console.log(nums);
    }
    let max = 0;
    for(let i = 0; i < nums.length; i++) {
        max = Math.max(max, nums[i]);
    }
    return max;
};

var minimizeArrayValue2 = function(nums) {
    let sum = 0;
    let res = 0;
    for(let i = 0; i < nums.length; i++) {
        sum += nums[i];
        let n = i + 1;
        let temp = 0;
        let dst = 0;
        if(sum%n == 0) {
            dst = sum/n;
        } else {
            dst = Math.floor(sum/n) + 1;
        }
        if(nums[0] > dst) {
            temp = nums[0];
        } else {
            temp =  dst;
        }

        if(temp >= res) {
            res = temp;
        }
        console.log(`${i} ${res}`);
    }
    return res;
};
nums = [3,9,1,6]
// nums = [10,1]
nums = [161228646,881841780,82425135,692069727,538831854,801005842,588017627,245820752,495096577,463380492,906176398,316871628,444671827,941810682,28350221,172129578,753795150,143952903,735097284,682142547,642004774,687425515,634350171,826572044,317355955,1065528,72985540,825885641,86649412,546419574,746665534,896740659,900471277,512964022,566182389,691685010,625819094,771921054,48872740,466733828,626773775,364719083,509439167,444280456,548939526,671521751,114045157,544948847,244551112,164492475,476780338,35719068,43467525,474982663,354879298,960684939,203507455,778708707,623893998,422001307,43987953,819770578,871027784,466735445,130243068,295145544,748731446,797922098,477638771,966909683,899729872,766092302,49361660,250010489,929790153,285666202,358706638,36763718,900530209,115557661,951411545,190628689,807607059,865216705,802374028,922328789,845281053,917035995,936757967,163761480,228095900,463716884,388062955,553013328,251648793,373069424,218956882,394684742,33743522,44188734,855753275,577710793,208432909,137027475,398621719,991240909,140019373,932965709,726727033,207111567,797160551,691608800,585760018,314329661,334035732,430736274,317841191,385499280,66244771,349289279,230293068,685164880,32543942,197459815,774683360,590554198,983618967,353905735,452912012,75202676,18523585,33422941,246823730,651704977,279432392,644270197,584275294,571210292,232490035,961705635,990001681,457636094,844913565,818360548,395064905,447437348,301365296,309147,399659281,392671407,956067096,992126541,859614903,733249539,820156980,336687881,664836947,597577951,881697993,861623844,756682184,332223766,162772389,586207779,842312934,455837343,154997446,67048083,697552167,571914218,43758281,488436636,970491064,365939771,231845447,679857284,349970990,771786178,46379298,448179056,546790870,129672573,270465836,148635125,260837170,957379131,631593780,669350381,1421551,921927372,538845729,695777454,649699478,285256497,576402398,12540119,828077940,636692273,232891646,219329518,510317302,252704410,593164619,948286097,820282051,26533653,741586726,326672056,246340000,204082268,403600870,617742117,981663576,436166993,456770246,467485540,716025319,246044357,56709928,926951391,545585933,280495872,658384085,904433510,110864682,711295301,171108818,563390960,466932894,198176561,716772535,530201017,470770196,501319999,602401991,516919013,795260364,915007203,749425284,423659891,163188043,158225716,201119445,983325016,60521551,597470168,393885418,982606052,881013653,955389299,931056007,946986164,863710125,167659598,804407587,939493109,515105988,467213086,597527896,281566871,786490695,820646515,124316662,56599752,696361890,230433812,745521246,869922428,168878827,282694740,792231290,897692802,260638416,512743188,727340913,930987106,652040574,602282774,913898901,333443402,714836276,550585058,58917446,327801871,758956088,854828694,500128481,103090820,331277382,857644382,21139914,533918467,578249107,309711937,811983118,589601754,54475826,875310023,929960707,771885696,430688947,363202665,700442104,216916636,431281676,749055729,530837443,291451878,52180534,684487310,48536069,794873127,412692810,824162066,132405546,842533433,716419507,457208049,901624592,151728378,650020890,510686412,566882433,275789705,122180070,608374983,786297393,160131909,572944161,579962699,173955481,158762042,713303983,76316393,109102355,264542560,692734153,526934945,681916541,52164898,820242622,400062219,427873164,538409462,415349591,131635684,535223971,10075484,708965405,982424526,388961419,28585502,714621162,367349885,646330875,293966599,646101002,131836322,909013322,40421906,467402449,522770808,771539481,372791200,60594296,269192514,344813672,105606551,172866458,613985011,234327702,194630656,909858264,363015253,780748419,515287162,908429096,774403487,97448763,213063473,1448893,16462756,307838133,194262161,369999075,686362715,289501434,216012951,84394433,179015163,417763307,620620032,702602265,565367375,192215138,960120822,37761806,193505110,225271702,641746264,56710099,74515560,479592660,818545686,940009394,511349034,518325819,941455874,33951226,595200800,557495339,922488818,301088477,691135826,13691117,838655273,722541613,586754372,926044175,198064495,940227129,633263697,773218390,499529566,117820728,859177563,525269782,893163561,758101185,628952950,453817279,968792269,650519326,312097524,404855099,666604540,276963249,801311290,547128099,770239007,26839862,504016390,590441423,17591791,930552237,45397947,886408165,971276011,353199279,990267563,643539897,933157698,386495286,929706908,234357353,78573196,313243956,23015902,756650718,209003208,962387587,789436836,358996948,7954227,749854305,199495327,366726656,244978995,559659051,403341925,348867618,890590351,113849842,436637897,114847148,352294006,491534977,333857236,669309057,85591437,297469498,857782036,770079690,731980408,969889348,916836687,703906568,323130849,53890237,778116916,471521076,415666633,938191823,832310148,555789890,687456826,605243595,605684116,24598373,388244127,975844039,63297201,672503449,829981558,619090318,169981083,888842562,877068833,527335377,402157675,480043631,520668379,477969135,324084732,13221331,250598157,728825844,368740802,304829304,890760884,183614319,858210282,767019277,544330819,193401218,571272555,552828984,850502615,323600850,139713861,394715784,724302819,189596815,326424560,156548927,161740893,511333960,241092130,707324807,948024360,125564439,528937365,375998201,29280529,272979160,358715842,291523803,118934650,710824590,458644513,712474808,769978171,373973010,144193103,832117925,262358973,993278417,128420254,998839667,632875774,823917152,426574293,641626230,127485934,491096439,356217640,647259166,406269405,869171270,784491060,743735940,251742888,607292052,282891447,927467157,28856413,279283410,608942510,213924998,618604172,24992897,794176918,370095778,221676348,48852863,960718090,858718435,218090752,200593113,969491152,444360646,477805954,363697642,252301774,957524868,976145865,700056503,600303994,275788964,608068180,778114849,379734678,904692856,127520752,889045799,115887819,264024198,863655946,344766351,759162745,888536289,722379536,552794647,82273450,773349678,564712657,949154605,325371091,79855329,868527585,382049544,347216335,667001890,144690954,71150118,646950676,660237548,225843324,541063321,975748891,138176640,325810580,314951846,487329526,410357571,20585622,947376123,550158841,94149338,699080813,268975682,630656154,418741159,708592748,981040734,811047430,282926887,848958652,518959052,948532129,158379824,729540571,813681788,629901667,352437110,138259595,78985026,816326634,720132219,322282496,433101033,102916181,798693567,953558157,449306297,387194636,442752759,518494241,799679090,634183501,693417231,858695563,364668338,410365875,618573579,522319310,699436215,783087510,61274260,8962937,588341448,699196335,520999623,592928002,43217811,134575733,365265547,470626998,585414000,881558129,602730072,242045321,628642400,546507043,64450493,136609132,31511656,227514785,283670606,921869000,17457330,820454142,589206120,403417842,614045368,120643985,704855243,903314842,233292542,328347920,875444738,394482219,55389284,363446463,811217710,942613326,2483322,114178362,789684388,791380422,163837066,403026652,339273962,470659811,48880941,748449340,166203720,988438313,290058365,575937714,553673573,731340223,374828043,680069897,880717643,421324270,418186196,704685811,758722420,531771340,754791198,212579736,132511629,985112101,87798017,758916601,603510159,654228568,628600215,683162972,179257697,318071952,352447148,858813790,339017745,196498402,247764877,38623508,670613181,383673334,30437832,39858835,504073620,625174591,947923590,827834957,588737248,582468171,993349834,640037405,766132966,541078634,367244285,81253770,782924457,977712209,849005077,715789827,71246962,739734995,696538001,76695801,192737808,537103398,134717883,356258470,689149578,172865427,339327330,261233391,249144089,792282714,974227797,37324141,543535589,330508654,940081586,946914843,527937054,459579248,881749812,686794706,569395267,471791385,62597923,274940431,930292393,576290391,562451199,382619950,833014790,832102130,784934555,390699634,807586438,100048385,966282457,529310906,783405260,905211839,761006507,73467070,232363377,375284279,216445967,986419827,163283811,145860543,354450819,201836962,592235223,105342080,617840274,47731496,790796509,239772276,122983111,121625032,173008291,164928265,397646982,605563013,51874543,396919885,110953632,351801857,943870016,337258885,755633616,170985342,271877109,840030706,840064109,320045601,450528436,361107018,222115927,44661769,239438869,736210425,31567724,313957300,441754444,64128350,137540166,832553506,730078051,807243791,100171029,88662054,92104420,215901812,825410924,567500857,104846267,773825189,767645414,590960232,744598230,488291654,561269445,682290212,493707526,155425141,639180313,7487272,725333403,105860043,720459157,254910271,491364438,251925691,709419898,56261447,443228862,800202319,174194027,906690076,911387282,642418899,861033536,879361253,504191019,800915483,408006458,136360394,934191814,265686638,117019597,859604312,53947981,447443709,972976989,297791937,243448535,393659124,927126126,580586965,238219662,894870065,253523762,190533563,697838846,5328603,828696109]
nums = [4,7,2,2,9,19,16,0,3,15]
console.time('minimizeArrayValue');
//console.log(minimizeArrayValue(nums));
console.timeLog('minimizeArrayValue','Hello');
console.log(minimizeArrayValue2(nums));
console.timeEnd('minimizeArrayValue');
